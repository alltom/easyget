<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: EventMachine::Protocols::SASLauth</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">EventMachine::Protocols::SASLauth</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../../files/lib/protocols/saslauth_rb.html">
                lib/protocols/saslauth.rb
                </a>
        <br />
            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Implements SASL authd. This is a very, very simple protocol that mimics the
one used by saslauthd and pwcheck, two outboard daemons included in the
standard SASL library distro. The only thing this is really suitable for is
SASL PLAIN (user+password) authentication, but the SASL libs that are
linked into standard servers (like imapd and sendmail) implement the other
ones.
</p>
<p>
SASL-auth is intended for reasonably fast operation inside a single
machine, so it has no transport-security (although there have been
multi-machine extensions incorporating transport-layer encryption).
</p>
<p>
The standard saslauthd module generally runs privileged and does its work
by referring to the system-account files.
</p>
<p>
This feature was added to <a
href="../../EventMachine.html">EventMachine</a> to enable the development
of custom authentication/authorization engines for standard servers.
</p>
<p>
To use <a href="SASLauth.html">SASLauth</a>, include it in a class that
subclasses EM::Connection, and reimplement the <a
href="SASLauth.html#M000327">validate</a> method.
</p>
<p>
The typical way to incorporate this module into an authentication daemon
would be to set it as the handler for a UNIX-domain socket. The code might
look like this:
</p>
<pre>
 EM.start_unix_domain_server( &quot;/var/run/saslauthd/mux&quot;, MyHandler )
 File.chmod( 0777, &quot;/var/run/saslauthd/mux&quot;)
</pre>
<p>
The chmod is probably needed to ensure that unprivileged clients can access
the UNIX-domain socket.
</p>
<p>
It&#8216;s also a very good idea to drop superuser privileges (if any),
after the UNIX-domain socket has been opened.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000325">post_init</a>&nbsp;&nbsp;
      <a href="#M000326">receive_data</a>&nbsp;&nbsp;
      <a href="#M000327">validate</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">


    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">MaxFieldSize</td>
          <td>=</td>
          <td class="context-item-value">128*1024</td>
        </tr>
        </table>
      </div>
    </div>



      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000325" class="method-detail">
        <a name="M000325"></a>

        <div class="method-heading">
          <a href="SASLauth.src/M000325.html" target="Code" class="method-signature"
            onclick="popupCode('SASLauth.src/M000325.html');return false;">
          <span class="method-name">post_init</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000326" class="method-detail">
        <a name="M000326"></a>

        <div class="method-heading">
          <a href="SASLauth.src/M000326.html" target="Code" class="method-signature"
            onclick="popupCode('SASLauth.src/M000326.html');return false;">
          <span class="method-name">receive_data</span><span class="method-args">(data)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000327" class="method-detail">
        <a name="M000327"></a>

        <div class="method-heading">
          <a href="SASLauth.src/M000327.html" target="Code" class="method-signature"
            onclick="popupCode('SASLauth.src/M000327.html');return false;">
          <span class="method-name">validate</span><span class="method-args">(username, psw, sysname, realm)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>